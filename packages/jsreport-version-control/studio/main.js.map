{"version":3,"file":"main.js","mappings":"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","sources":["webpack://@jsreport/jsreport-version-control/external var \"Studio\"","webpack://@jsreport/jsreport-version-control/external var \"Studio.libraries['react']\"","webpack://@jsreport/jsreport-version-control/./studio/ChangesTable.js","webpack://@jsreport/jsreport-version-control/./studio/VersionControl.css?2dd0","webpack://@jsreport/jsreport-version-control/./studio/HistoryEditor.js","webpack://@jsreport/jsreport-version-control/./studio/DownloadBigFileModal.js","webpack://@jsreport/jsreport-version-control/external var \"Studio.libraries['filesaver.js-npm']\"","webpack://@jsreport/jsreport-version-control/./studio/LocalChangesEditor.js","webpack://@jsreport/jsreport-version-control/webpack/bootstrap","webpack://@jsreport/jsreport-version-control/webpack/runtime/compat get default export","webpack://@jsreport/jsreport-version-control/webpack/runtime/define property getters","webpack://@jsreport/jsreport-version-control/webpack/runtime/hasOwnProperty shorthand","webpack://@jsreport/jsreport-version-control/webpack/runtime/make namespace object","webpack://@jsreport/jsreport-version-control/./studio/main_dev.js"],"sourcesContent":["module.exports = Studio;","module.exports = Studio.libraries['react'];","import Studio from 'jsreport-studio'\nimport DownloadBigFileModal from './DownloadBigFileModal'\n\nconst openDiff = async (change) => {\n  if (change.type === 'bigfile') {\n    return Studio.openModal(DownloadBigFileModal, {\n      change\n    })\n  }\n\n  const previewId = Studio.preview({\n    type: 'rawContent',\n    data: {}\n  })\n\n  try {\n    const response = await Studio.api.post('/studio/diff-html', {\n      parseJSON: false,\n      data: {\n        patch: change.patch\n      }\n    })\n\n    Studio.updatePreview(previewId, {\n      type: 'rawContent',\n      data: {\n        type: 'text/html',\n        content: response\n      },\n      completed: true\n    })\n  } catch (err) {\n    Studio.updatePreview(previewId, {\n      type: 'rawContent',\n      data: {\n        type: 'text/html',\n        content: err.stack\n      },\n      completed: true\n    })\n  }\n}\n\nconst operationIcon = (operation) => {\n  switch (operation) {\n    case 'insert': return 'fa fa-plus'\n    case 'remove': return 'fa fa-eraser'\n    case 'update': return 'fa fa-pencil'\n  }\n}\n\nconst renderChange = (c) => {\n  return (\n    <tbody key={`${c.entitySet}-${c.path}`}>\n      <tr onClick={() => openDiff(c)}>\n        <td style={{ textAlign: 'center' }}><i className={operationIcon(c.operation)} /></td>\n        <td>{c.path}</td>\n        <td>{c.entitySet}</td>\n      </tr>\n    </tbody>\n  )\n}\n\nexport default ({ changes }) => (\n  <table className='table'>\n    <thead>\n      <tr>\n        <th style={{ width: '20px' }}>operation</th>\n        <th>path</th>\n        <th>entity set</th>\n      </tr>\n    </thead>\n    {changes.map((c) => renderChange(c))}\n  </table>\n)\n","// extracted by mini-css-extract-plugin\nexport default {\"runCaret\":\"x-version-control-VersionControl-runCaret fa fa-caret-down\",\"listContainer\":\"x-version-control-VersionControl-listContainer\"};","import React, { Component } from 'react'\nimport Studio from 'jsreport-studio'\nimport ChangesTable from './ChangesTable.js'\nimport style from './VersionControl.css'\n\nexport default class HistoryEditor extends Component {\n  constructor () {\n    super()\n    this.state = { history: [], inExecution: false }\n  }\n\n  onTabActive () {\n    this.load()\n  }\n\n  async load () {\n    if (this.fetchRequested) {\n      return\n    }\n\n    this.fetchRequested = true\n\n    try {\n      const res = await Studio.api.get('/api/version-control/history')\n      this.setState({ history: res })\n    } catch (e) {\n      alert(e)\n    } finally {\n      this.fetchRequested = false\n    }\n  }\n\n  async checkout (id) {\n    if (this.state.inExecution) {\n      return\n    }\n\n    try {\n      this.setState({ inExecution: true })\n\n      const localChanges = await Studio.api.get('/api/version-control/local-changes')\n\n      if (localChanges.length > 0) {\n        this.setState({ inExecution: false })\n        return this.setState({ error: 'You have uncommitted changes. You need to commit or revert them before checkout.' })\n      }\n\n      if (confirm('This will change the state of all entities to the state stored with selected commit. Are you sure?')) {\n        await Studio.api.post('/api/version-control/checkout', {\n          data: {\n            _id: id\n          }\n        })\n\n        this.setState({ inExecution: false })\n        return Studio.reset().catch((e) => console.error(e))\n      } else {\n        this.setState({ inExecution: false })\n      }\n    } catch (e) {\n      this.setState({ inExecution: false })\n      alert(e)\n    }\n  }\n\n  async selectCommit (c) {\n    this.setState({ commit: c })\n\n    try {\n      const res = await Studio.api.get(`/api/version-control/diff/${c._id}`)\n      this.setState({ diff: res })\n    } catch (e) {\n      alert(e)\n    }\n  }\n\n  renderCommit (commit) {\n    return (\n      <div>\n        <h2><i className='fa fa-info-circle' /> {commit.message}</h2>\n        <div>\n          <small>{commit.date.toLocaleString()}</small>\n          <button className='button danger' disabled={this.state.inExecution} onClick={() => this.checkout(commit._id)}>Checkout</button>\n          <span style={{ color: 'red', marginTop: '0.5rem', display: this.state.error ? 'block' : 'none' }}>{this.state.error}</span>\n        </div>\n      </div>\n    )\n  }\n\n  localChanges () {\n    Studio.openTab({ key: 'versionControlLocalChanges', editorComponentKey: 'versionControlLocalChanges', title: 'Uncommitted changes' })\n  }\n\n  async clearAllCommits () {\n    if (window.confirm('This will permanently delete all commits. Are you sure you want to perform this action?')) {\n      try {\n        const res = await Studio.api.get('/odata/versions')\n        await Promise.all(res.value.map(v => Studio.api.del(`/odata/versions('${v._id}')`)))\n        this.load()\n      } catch (e) {\n        alert(e)\n      }\n    }\n  }\n\n  render () {\n    return (\n      <div className='block custom-editor'>\n        <h2>\n          <i className='fa fa-history' /> Commits history\n          <button className='button confirmation' onClick={() => this.localChanges()}>Uncommitted changes</button>\n          <button className='button danger' onClick={() => this.clearAllCommits()}>Clear all commits</button>\n        </h2>\n        <div style={{ marginTop: '1rem', marginBottom: '1rem' }}>\n          {this.state.history.length > 0 ? 'Select a commit from the list to inspect the changes..' : ''}\n        </div>\n        <div className={style.listContainer + ' block-item'}>\n          <table className='table'>\n            <thead>\n              <tr>\n                <th>date</th>\n                <th>message</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.history.map((h) => (\n                <tr key={h._id} onClick={() => this.selectCommit(h)}>\n                  <td>{h.date.toLocaleString()}</td>\n                  <td>{h.message}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        <div style={{ marginTop: '1rem', marginBottom: '1rem' }}>\n          {this.state.commit ? this.renderCommit(this.state.commit) : null}\n        </div>\n        <div className={style.listContainer + ' block-item'}>\n          {this.state.diff ? <ChangesTable changes={this.state.diff} /> : ''}\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport fileSaver from 'filesaver.js-npm'\n\nconst b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\n  const byteCharacters = atob(b64Data)\n  const byteArrays = []\n\n  for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n    const slice = byteCharacters.slice(offset, offset + sliceSize)\n\n    const byteNumbers = new Array(slice.length)\n    for (let i = 0; i < slice.length; i++) {\n      byteNumbers[i] = slice.charCodeAt(i)\n    }\n\n    const byteArray = new Uint8Array(byteNumbers)\n\n    byteArrays.push(byteArray)\n  }\n\n  const blob = new Blob(byteArrays, { type: contentType })\n  return blob\n}\n\nexport default class DownloadBigFileModal extends Component {\n  download () {\n    const blob = b64toBlob(this.props.options.change.patch, this.props.options.change.contentMimeType)\n    const nameParts = this.props.options.change.name.split('.')\n    let nameExtension\n\n    if (nameParts.length > 1) {\n      nameExtension = nameParts.slice(-1)[0]\n    }\n\n    let filename = ''\n\n    if (nameExtension != null && nameExtension === this.props.options.change.contentFileExtension) {\n      filename = this.props.options.change.name\n    } else {\n      filename = `${this.props.options.change.name}.${this.props.options.change.contentFileExtension}`\n    }\n\n    fileSaver.saveAs(blob, filename)\n  }\n\n  renderDownload () {\n    return (\n      <div>\n        <p>The version control doesn't diff big or binary files. Please download it to see its content</p>\n        <div className='button-bar'>\n          <button className='button confirmation' onClick={() => this.download()}>Download</button>\n        </div>\n      </div>\n    )\n  }\n\n  renderEmpty () {\n    return (\n      <div>\n        <p>The new document is empty.</p>\n        <div className='button-bar'>\n          <button className='button confirmation' onClick={() => this.props.close()}>Ok</button>\n        </div>\n      </div>\n    )\n  }\n\n  render () {\n    const filename = this.props.options.change.path.split('/')[0]\n\n    return (\n      <div>\n        <h2>{filename}</h2>\n        {this.props.options.change.patch ? this.renderDownload() : this.renderEmpty()}\n      </div>\n    )\n  }\n}\n","module.exports = Studio.libraries['filesaver.js-npm'];","import React, { Component } from 'react'\nimport Studio from 'jsreport-studio'\nimport ChangesTable from './ChangesTable.js'\nimport style from './VersionControl.css'\n\nexport default class LocalChangesEditor extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { message: '', inExecution: false }\n  }\n\n  onTabActive () {\n    this.load()\n  }\n\n  async load () {\n    if (this.fetchRequested) {\n      return\n    }\n\n    this.fetchRequested = true\n\n    try {\n      const res = await Studio.api.get('/api/version-control/local-changes')\n      this.setState({ diff: res })\n    } catch (e) {\n      alert(e)\n    } finally {\n      this.fetchRequested = false\n    }\n  }\n\n  async commit () {\n    if (this.state.inExecution) {\n      return\n    }\n\n    if (!this.state.message) {\n      return this.setState({ error: 'Commit message must be filled' })\n    }\n\n    this.setState({ inExecution: true })\n\n    try {\n      await Studio.api.post('/api/version-control/commit', {\n        data: {\n          message: this.state.message\n        }\n      })\n      this.setState({ message: '', error: null, inExecution: false })\n      await this.load()\n    } catch (e) {\n      this.setState({ inExecution: false })\n      alert(e)\n    }\n  }\n\n  async revert () {\n    if (this.state.inExecution) {\n      return\n    }\n\n    this.setState({ inExecution: true })\n\n    try {\n      if (confirm('This will revert all your changes to the previous commit. In case you have no previous commit, you will loose all entities! Are you sure?')) {\n        await Studio.api.post('/api/version-control/revert')\n        this.setState({ inExecution: false })\n        return Studio.reset().catch((e) => console.error(e))\n      } else {\n        this.setState({ inExecution: false })\n      }\n    } catch (e) {\n      this.setState({ inExecution: false })\n      alert(e)\n    }\n  }\n\n  history () {\n    Studio.openTab({ key: 'versionControlHistory', editorComponentKey: 'versionControlHistory', title: 'Commits history' })\n  }\n\n  render () {\n    return (\n      <div className='block custom-editor'>\n        <h1>\n          <i className='fa fa-history' /> uncommitted changes\n          <button className='button confirmation' onClick={() => this.history()}>Commits history</button>\n        </h1>\n        <div className='form-group'>\n          The version control is currently in beta.\n        </div>\n        <div className='form-group'>\n          <label>Message</label>\n          <input type='text' value={this.state.message} onChange={(event) => this.setState({ message: event.target.value, error: null })} />\n          <span style={{ color: 'red', display: this.state.error ? 'block' : 'none' }}>{this.state.error}</span>\n        </div>\n        <div>\n          <button className='button confirmation' disabled={this.state.inExecution} onClick={() => this.commit()}>Commit</button>\n          <button className='button danger' disabled={this.state.inExecution} onClick={() => this.revert()}>Revert</button>\n        </div>\n        <div className={style.listContainer + ' block-item'}>\n          {this.state.diff ? <ChangesTable changes={this.state.diff} /> : ''}\n        </div>\n      </div>\n    )\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Studio from 'jsreport-studio'\nimport React from 'react'\nimport HistoryEditor from './HistoryEditor'\nimport LocalChangesEditor from './LocalChangesEditor'\n\nStudio.initializeListeners.push(async () => {\n  if (Studio.authentication && !Studio.authentication.isUserAdmin(Studio.authentication.user)) {\n    return\n  }\n\n  Studio.addEditorComponent('versionControlHistory', HistoryEditor)\n  Studio.addEditorComponent('versionControlLocalChanges', LocalChangesEditor)\n\n  Studio.addToolbarComponent(() =>\n    <div\n      title='History'\n      className='toolbar-button'\n      onClick={() => Studio.openTab({ key: 'versionControlLocalChanges', editorComponentKey: 'versionControlLocalChanges', title: 'Uncommited changes' })}\n    ><i className='fa fa-history' /><span>Version control</span>\n    </div>, 'settings')\n})\n"],"names":["Studio","DownloadBigFileModal","openDiff","change","type","openModal","previewId","preview","data","response","api","post","parseJSON","patch","updatePreview","content","completed","err","stack","operationIcon","operation","renderChange","c","React","createElement","key","entitySet","path","onClick","style","textAlign","className","_ref","changes","width","map","Component","ChangesTable","HistoryEditor","constructor","state","history","inExecution","onTabActive","load","fetchRequested","res","get","setState","e","alert","checkout","id","localChanges","length","error","confirm","_id","reset","catch","console","selectCommit","commit","diff","renderCommit","message","date","toLocaleString","disabled","color","marginTop","display","openTab","editorComponentKey","title","clearAllCommits","window","Promise","all","value","v","del","render","marginBottom","listContainer","h","fileSaver","b64toBlob","b64Data","contentType","arguments","undefined","sliceSize","byteCharacters","atob","byteArrays","offset","slice","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","push","blob","Blob","download","props","options","contentMimeType","nameParts","name","split","nameExtension","filename","contentFileExtension","saveAs","renderDownload","renderEmpty","close","LocalChangesEditor","revert","onChange","event","target","initializeListeners","authentication","isUserAdmin","user","addEditorComponent","addToolbarComponent"],"sourceRoot":""}